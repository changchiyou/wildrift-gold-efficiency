<h3 id="{{ include.anchor }}">{{ include.header }}</h3>

<table>
    <colgroup>
        <col class="items-item">
        <col class="items-cost">
        <col class="items-stat">
        <col class="items-amount">
    </colgroup>
    <thead>
      <tr>
        <th>Item</th>
        <th>Cost</th>
        <th>Stats</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for item in site.data[ include.items ] %}
        {% if item.category == include.category %}
            {% assign filters = "" %}
            {% for stat in item.stats %}
                {% capture filters %}{{ filters }} filter-{{ stat.type | downcase | replace: " ", "-" | replace: "%", "percentage" }}{% endcapture %}
            {% endfor %}

            <tr class="item-table {{ filters | strip }}">
                <td>
                    <img class="item-icon" loading="lazy" src="{{ item.image }}" style="margin-right: 5px;" />
                    {{ item.name }}
                </td>
                <td class="goldt">
                    {{ item.cost }}
                    {% include stat_image.html type="gold" stats=include.stats %}
                </td>
                <td>
                    {% for stat in item.stats %}
                        <b class="stat">
                            {% if stat.passive %}
                                <div class="tooltip stats">
                                    {{- stat.value -}}{% include stat_image.html type=stat.type stats=include.stats %}
                                    <span class="tooltiptext">
                                        {{ stat.passive }}
                                        {% if stat.formula %}
                                            : {{ stat.formula }}
                                        {% endif %}
                                    </span>
                                </div>
                            {% else %}
                                {{- stat.value -}}{% include stat_image.html type=stat.type stats=include.stats %}
                            {% endif %}
                        </b>
                    {% endfor %}
                </td>
                <td>
                    <div class="tooltip item toleft">
                        {{ item.amount }}
                        <span class="tooltiptext">
                            {{ item.formula }}
                        </span>
                    </div>
                </td>
            </tr>
        {% endif %}
      {% endfor %}
    </tbody>
</table>